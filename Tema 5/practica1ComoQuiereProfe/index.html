<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="tools.js"></script>
    <title>Eleccion de delegado</title>
  </head>
  <body>
    <p>Obtener los participantes</p>
    <input type="file" name="archivos" id="archivos" />
    <div id="zonaDatos">
      <p>Aqui van los datos</p>
    </div>

    <script>
      function comenzar() {
        zonaDatos = document.getElementById("zonaDatos");
        archivos = document.getElementById("archivos");
        archivos.addEventListener("change", procesar, false);
      }

      function procesar(e) {
        var datos = new Array(); //creamos un array
        var archivos = e.target.files; //obtiene el archivo en forma de array
        var mi_archivo = archivos[0];
        var lector = new FileReader(); // se crea un lector
        lector.readAsText(mi_archivo); // devuelve la informacion del archivo en modo txt
        lector.addEventListener("load", mostrar_en_web, false);
      }

      function mostrar_en_web(e) {
        var resultado = e.target.result;
        datos = resultado.split(",");
        console.log("Resultado" + resultado);
        console.log("Datos split" + datos);
        zonaDatos.innerHTML += "<select name='prueba' id=''>";
        for (let index = 0; index < datos.length; index++) {
          zonaDatos.innerHTML +=
            "<option value='" +
            datos[index] +
            "'>" +
            datos[index] +
            "</option>";
        }
        zonaDatos.innerHTML += "</select>";
      }

      window.addEventListener("load", comenzar, false);
    </script>
    <select name="prueba" id="">
      <option value="prueba">prueba</option>
      <option value="prueba">kk</option>
    </select>
  </body>
</html>
